<script>
        function productList() {
            // Call Web API to get a list of Product
            $.ajax({
                url: '/products.json',
                type: 'GET',
                dataType: 'json',
                success: function (products) {
                    productListSuccess(products);
                        $("#loading").hide();
                    
                },
                error: function (request, message, error) {
                    handleException(request, message, error);
                }
            });
        }
        function productListSuccess(products) {
            // Iterate over the collection of data
            $.each(products, function (index, product) {
                // Add a row to the Product table
                productAddRow(product);
            });
        }
        function productAddRow(product) {
            // Check if <tbody> tag exists, add one if not
            if ($("#productTable tbody").length == 0) {
                $("#productTable").append("<tbody></tbody>");
            }
            // Append row to <table>
            $("#productTable tbody").append(
                productBuildTableRow(product));
        }
        function productBuildTableRow(product) {
            var ret =
                "<tr>" +
                "<td>" + product.ProductName + "</td>" +
                "<td>" + product.IntroductionDate + "</td>"
                + "<td>" + product.Url + "</td>"
                + "<td>" +
                "<button type='button' " +
                "onclick='productGet(this);' " +
                "class='btn btn-default' " +
                "data-id='" + product.ProductId + "'>" +
                "<span class='glyphicon glyphicon-edit' />"
                + "</button>" +
                "</td >" +
                "</tr>";
            return ret;
        }
        function handleException(request, message,
            error) {
            var msg = "";
            msg += "Code: " + request.status + "\n";
            msg += "Text: " + request.statusText + "\n";
            if (request.responseJSON != null) {
                msg += "Message" +
                    request.responseJSON.Message + "\n";
            }
            alert(msg);
        }
       
         
        $(document).ready(function () {
            productList();         
        });

        function productGet(ctl) {
            // Get product id from data- attribute
            var id = $(ctl).data("id");

            // Store product id in hidden field
            $("#productid").val(id);

            // Call Web API to get a list of Products
            $.ajax({
                url: "/product" + id + ".json",
                type: 'GET',
                dataType: 'json',
                success: function (product) {
                    productToFields(product);

                    // Change Update Button Text
                    $("#updateButton").text("Update");
                },
                error: function (request, message, error) {
                    handleException(request, message, error);
                }
            });
        }
        function productToFields(product) {
            $("#productname").val(product.ProductName);
            $("#introdate").val(product.IntroductionDate);
            $("#url").val(product.Url);
        }


        function updateClick() {
            // Build product object from inputs
            Product = new Object();
            Product.ProductId = 0;
            Product.ProductName = $("#productname").val();
            Product.IntroductionDate =
                $("#introdate").val();
            Product.Url = $("#url").val();
            if ($("#updateButton").text().trim() ==
                "Add") {
                productAdd(Product);
            }
        }

        function productAdd(product) {
            productAddSuccess(product);
        }

        function productAddSuccess(product) {
            productAddRow(product);
            formClear();
        }


        function formClear() {
            $("#productname").val("");
            $("#introdate").val("");
            $("#url").val("");
        }
        function addClick() {
            formClear();
        }

    </script>*/